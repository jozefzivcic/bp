\documentclass[12pt]{article}
\usepackage[\VAR{vars['package_language']}]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{amssymb}
\usepackage{fancyhdr}
\usepackage{enumitem}
\usepackage{a4wide}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{float}
\usepackage{tcolorbox}
\newtcolorbox{mybox}[3][]
{
  colframe = #2!25,
  colback  = #2!10,
  coltitle = #2!20!black,
  title    = #3,
  #1,
}
\pagestyle{fancy}
\fancyhf{}
\pagenumbering{arabic}
\cfoot{\thepage}

\title{\VAR{texts['General']['ReportTitle']}}
\date{\today}
%\author{\VAR{texts['General']['Author']}}

\begin{document}
\maketitle

\BLOCK{ if vars['charts']['files'] }
    \section{\VAR{ texts['General']['Charts'] }}
\BLOCK{ endif }

\BLOCK{ if vars['charts'] is not none }
	\BLOCK{for key, value in vars['charts']['files'].items()}
		\VAR{texts['General']['ChartsForFile']} \textbf{\VAR{value['file_name']}}

		\BLOCK{for ch_info in value['chart_info']}
			\begin{figure}[H]
				\begin{center}
					\includegraphics[width=0.8\textwidth]{\VAR{ch_info['path_to_chart']}}
				\end{center}
				\caption{\VAR{ch_info['chart_name']}}
				\label{fig:file_\VAR{key}_\VAR{ch_info['chart_type']}}
			\end{figure}
			\BLOCK{ if 'info_msg' in ch_info }
				\begin{tcolorbox}
					\VAR{ ch_info['info_msg'] }
				\end{tcolorbox}
			\BLOCK{ endif }
		\BLOCK{ endfor }
		\newpage

	\BLOCK{ endfor }
\BLOCK{ endif }

\BLOCK{if vars['nist_report_dict'] is not none}
    \section{ \VAR{ texts['NistReport']['NistReport'] } }
	\BLOCK{for key, value in vars['nist_report_dict'].items()}
		\subsection{\VAR{ texts['NistReport']['ReportForFile'] } \VAR{ value['file_name']}}
		\VAR{ value['content'] }
	\BLOCK{ endfor }
\BLOCK{endif}

\BLOCK{ if vars['charts'] is not none and 'infos' in vars['charts'] }
{\large \textbf{\VAR{ texts['General']['InfoFromCharts'] }}}
\newline

	\BLOCK{ for key, val in vars['charts']['infos'].items() }
		\begin{mybox}{green}{\VAR{ key }}
			\BLOCK{ for msg in val }
				\VAR{msg}


			\BLOCK{ endfor }
		\end{mybox}
	\BLOCK{ endfor }
\BLOCK{ endif }


\BLOCK{ if vars['charts'] is not none and 'errors' in vars['charts'] }
{\large \textbf{\VAR{ texts['General']['ErrorsFromCharts'] }}}
\newline

	\BLOCK{ for key, val in vars['charts']['errors'].items() }
		\begin{mybox}{red}{\VAR{ key }}
			\BLOCK{ for msg in val }
				\VAR{msg}


			\BLOCK{ endfor }
		\end{mybox}
	\BLOCK{ endfor }
\BLOCK{ endif }

\end{document}
